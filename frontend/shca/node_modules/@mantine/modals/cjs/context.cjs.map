{"version":3,"file":"context.cjs","sources":["../src/context.ts"],"sourcesContent":["import { createContext, ReactNode } from 'react';\nimport { DataAttributes, ModalProps } from '@mantine/core';\nimport type { ConfirmModalProps } from './ConfirmModal';\n\nexport type ModalSettings = Partial<Omit<ModalProps, 'opened'>> & { modalId?: string };\n\nexport type ConfirmLabels = Record<'confirm' | 'cancel', ReactNode>;\n\nexport interface OpenConfirmModal extends ModalSettings, ConfirmModalProps {}\n\nexport type ContextModalInnerProps<\n  TKey extends MantineModal,\n  P = Parameters<MantineModals[TKey]>[0]['innerProps'],\n> = keyof NonNullable<P> extends never ? { innerProps?: never } : { innerProps: P };\n\nexport type OpenContextModal<TKey extends MantineModal = string> = ModalSettings &\n  ContextModalInnerProps<TKey>;\n\nexport interface ContextModalProps<T extends Record<string, any> = {}> {\n  context: ModalsContextProps;\n  innerProps: T;\n  id: string;\n}\n\nexport type ModalState =\n  | { id: string; props: ModalSettings; type: 'content' }\n  | { id: string; props: OpenConfirmModal; type: 'confirm' }\n  | { id: string; props: OpenContextModal; type: 'context'; ctx: string };\n\nexport interface ModalsContextProps {\n  modalProps: ModalSettings;\n  modals: ModalState[];\n  openModal: (props: ModalSettings) => string;\n  openConfirmModal: (props: OpenConfirmModal) => string;\n  openContextModal: <TKey extends MantineModal>(\n    props: { modalKey: TKey } & OpenContextModal<TKey> & DataAttributes\n  ) => string;\n  closeModal: (modalId: string, canceled?: boolean) => void;\n  closeContextModal: <TKey extends MantineModal>(modalKey: TKey, canceled?: boolean) => void;\n  closeAllModals: () => void;\n  updateModal: (props: { modalId: string } & Partial<OpenConfirmModal>) => void;\n  updateContextModal: <TKey extends MantineModal>(\n    props: { modalKey: TKey } & Partial<OpenContextModal<TKey>>\n  ) => void;\n}\n\nexport interface MantineModalsOverride {}\n\nexport type MantineModals = MantineModalsOverride extends {\n  modals: infer CustomModals;\n}\n  ? CustomModals\n  : Record<string, React.FC<ContextModalProps<any>>>;\n\nexport type MantineModal = keyof MantineModals;\n\nexport const ModalsContext = createContext<ModalsContextProps>(null as any);\nModalsContext.displayName = '@mantine/modals/ModalsContext';\n"],"names":["createContext"],"mappings":";;;;;AAwDO,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAgBA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,EAAkC,CAAA,CAAA,CAAA,CAAW,CAAA,CAAA;AAC1E,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAc,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAc,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;;"}